

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>怎么确定道 &mdash; MySummary 1.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="回调还是直调" href="回调还是直调.html" />
    <link rel="prev" title="科普一下GPL和开源软件" href="科普一下GPL和开源软件.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../README.html" class="icon icon-home"> MySummary
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../道德经直译/README.html">《道德经》直译</a></li>
<li class="toctree-l1"><a class="reference internal" href="../花朵的温室/README.html">花朵的温室</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="README.html">软件架构设计</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="从单元测试理解软件.html">从单元测试理解软件</a></li>
<li class="toctree-l2"><a class="reference internal" href="名可名.html">名可名</a></li>
<li class="toctree-l2"><a class="reference internal" href="小国寡民.html">小国寡民</a></li>
<li class="toctree-l2"><a class="reference internal" href="需求分析的中心思路.html">需求分析的中心思路</a></li>
<li class="toctree-l2"><a class="reference internal" href="关于自然语言编程的方向问题.html">关于自然语言编程的方向问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="反者道之动——欣赏架构设计的基本逻辑.html">反者道之动——欣赏架构设计的基本逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="让代码变立体.html">让代码变立体</a></li>
<li class="toctree-l2"><a class="reference internal" href="生成优秀的架构.html">生成优秀的架构</a></li>
<li class="toctree-l2"><a class="reference internal" href="分支设计要领.html">分支设计要领</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎样做项目管理.html">怎样做项目管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="谈谈子女教育问题.html">谈谈子女教育问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="两种基本的构架表述方法.html">两种基本的构架表述方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="弱者道之用——谈技术工作中的守弱问题.html">弱者道之用——谈技术工作中的守弱问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="在Linux下做性能分析.html">在Linux下做性能分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计的0层逻辑.html">架构设计的0层逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="解耦设计.html">解耦设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎么做高层设计.html">怎么做高层设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="理解架构版本.html">理解架构版本</a></li>
<li class="toctree-l2"><a class="reference internal" href="PCIE总线的保序模型.html">PCIE总线的保序模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="做与不做都是战略.html">做与不做都是战略</a></li>
<li class="toctree-l2"><a class="reference internal" href="海洋战术式的软件设计方法.html">海洋战术式的软件设计方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="解耦和不解耦.html">解耦和不解耦</a></li>
<li class="toctree-l2"><a class="reference internal" href="再谈“守弱”.html">再谈“守弱”</a></li>
<li class="toctree-l2"><a class="reference internal" href="互斥算法设计.html">互斥算法设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="英文版本的“弱者道之用”.html">英文版本的“弱者道之用”</a></li>
<li class="toctree-l2"><a class="reference internal" href="什么是“守”.html">什么是“守”</a></li>
<li class="toctree-l2"><a class="reference internal" href="从用户功能开始构架系统框架.html">从用户功能开始构架系统框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux发行版的库软件包组织.html">Linux发行版的库软件包组织</a></li>
<li class="toctree-l2"><a class="reference internal" href="地址空间的故事.html">地址空间的故事</a></li>
<li class="toctree-l2"><a class="reference internal" href="工作和读书有什么不同.html">工作和读书有什么不同</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎样快速调试Linux内核.html">怎样快速调试Linux内核</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计中的“少了”和“多了”的问题.html">架构设计中的“少了”和“多了”的问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux iommu和vfio概念空间解构.html">Linux iommu和vfio概念空间解构</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎样做代码Review.html">怎样做代码Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎样做客户访谈.html">怎样做客户访谈</a></li>
<li class="toctree-l2"><a class="reference internal" href="RancherOS架构分析.html">RancherOS架构分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="再谈什么是软件架构.html">再谈什么是软件架构</a></li>
<li class="toctree-l2"><a class="reference internal" href="大道曰守，当时曰行.html">大道曰守，当时曰行</a></li>
<li class="toctree-l2"><a class="reference internal" href="不为天下先.html">不为天下先</a></li>
<li class="toctree-l2"><a class="reference internal" href="关于AI的胡说八道.html">关于AI的胡说八道</a></li>
<li class="toctree-l2"><a class="reference internal" href="学习本质？.html">学习本质？</a></li>
<li class="toctree-l2"><a class="reference internal" href="“设计的流程”和“代码的流程”.html">“设计的流程”和“代码的流程”</a></li>
<li class="toctree-l2"><a class="reference internal" href="概要设计不是代码.html">概要设计不是代码</a></li>
<li class="toctree-l2"><a class="reference internal" href="“病病”.html">“病病”</a></li>
<li class="toctree-l2"><a class="reference internal" href="关于架构师的爱恨情仇——《黑客帝国》世界观解读.html">关于架构师的爱恨情仇——《黑客帝国》世界观解读</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfio-mdev逻辑空间分析.html">vfio-mdev逻辑空间分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux Socket 0拷贝特性.html">Linux Socket 0拷贝特性</a></li>
<li class="toctree-l2"><a class="reference internal" href="用户态DMA的问题.html">用户态DMA的问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multiprocess Support for Linux IOMMU driver.html">Multiprocess Support for Linux IOMMU driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux RAS特性分析.html">Linux RAS特性分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="写论文.html">写论文</a></li>
<li class="toctree-l2"><a class="reference internal" href="基于“语义”编程.html">基于“语义”编程</a></li>
<li class="toctree-l2"><a class="reference internal" href="从学习assert的用法开始理解如何写“专业的程序”.html">从学习assert的用法开始理解如何写“专业的程序”</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构的存在性.html">架构的存在性</a></li>
<li class="toctree-l2"><a class="reference internal" href="Makefile概念入门.html">Makefile概念入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="ARM服务器进展小结.html">ARM服务器进展小结</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎么做初步的需求分析.html">怎么做初步的需求分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="关于设计方案中的逻辑链问题.html">关于设计方案中的逻辑链问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="从逻辑链问题讨论怎么做高层设计.html">从逻辑链问题讨论怎么做高层设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="工程逻辑链.html">工程逻辑链</a></li>
<li class="toctree-l2"><a class="reference internal" href="为什么你会在你的数据中心中部署ARM服务器.html">为什么你会在你的数据中心中部署ARM服务器</a></li>
<li class="toctree-l2"><a class="reference internal" href="如何为libvirt设置虚拟主机.html">如何为libvirt设置虚拟主机</a></li>
<li class="toctree-l2"><a class="reference internal" href="给普通人解释Spectre和Meltdown安全漏洞.html">给普通人解释Spectre和Meltdown安全漏洞</a></li>
<li class="toctree-l2"><a class="reference internal" href="给程序员解释Spectre和Meltdown漏洞.html">给程序员解释Spectre和Meltdown漏洞</a></li>
<li class="toctree-l2"><a class="reference internal" href="Is retpoline really safe.html">Is retpoline really safe?</a></li>
<li class="toctree-l2"><a class="reference internal" href="逻辑链，道，学和架构工作的本质.html">逻辑链，道，学和架构工作的本质</a></li>
<li class="toctree-l2"><a class="reference internal" href="Serverless是什么——谈如何捕获一个特性的架构本质.html">Serverless是什么——谈如何捕获一个特性的架构本质</a></li>
<li class="toctree-l2"><a class="reference internal" href="道法自然.html">道法自然</a></li>
<li class="toctree-l2"><a class="reference internal" href="自然，守弱和Plan B.html">自然，守弱和Plan B</a></li>
<li class="toctree-l2"><a class="reference internal" href="守弱的内涵和外延.html">守弱的内涵和外延</a></li>
<li class="toctree-l2"><a class="reference internal" href="找到道法自然的“度”.html">找到道法自然的“度”</a></li>
<li class="toctree-l2"><a class="reference internal" href="Specification的写法问题.html">Specification的写法问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="小姐和丫鬟的故事.html">小姐和丫鬟的故事</a></li>
<li class="toctree-l2"><a class="reference internal" href="知不知.html">知不知</a></li>
<li class="toctree-l2"><a class="reference internal" href="PCIE总线的地址问题.html">PCIE总线的地址问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="气和深度学习.html">气和深度学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="单元测试的效果问题.html">单元测试的效果问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="Requirement Analyzing vs. Voting.html">Requirement Analyzing vs. Voting</a></li>
<li class="toctree-l2"><a class="reference internal" href="抽离设计逻辑.html">抽离设计逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="盗夸.html">盗夸</a></li>
<li class="toctree-l2"><a class="reference internal" href="抽象还是不抽象的问题.html">抽象还是不抽象的问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tegra TX2一瞥.html">Tegra TX2一瞥</a></li>
<li class="toctree-l2"><a class="reference internal" href="Progress and confusion of the IOMMU name space.html">Progress and confusion of the IOMMU name space</a></li>
<li class="toctree-l2"><a class="reference internal" href="一样还是不一样.html">一样还是不一样</a></li>
<li class="toctree-l2"><a class="reference internal" href="运营还是交付.html">运营还是交付</a></li>
<li class="toctree-l2"><a class="reference internal" href="科普一下GPL和开源软件.html">科普一下GPL和开源软件</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">怎么确定道</a></li>
<li class="toctree-l2"><a class="reference internal" href="回调还是直调.html">回调还是直调</a></li>
<li class="toctree-l2"><a class="reference internal" href="接口的封装层次问题.html">接口的封装层次问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="git的基本架构欣赏.html">git的基本架构欣赏</a></li>
<li class="toctree-l2"><a class="reference internal" href="让设计自生.html">让设计自生</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构控制的从权问题.html">架构控制的从权问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="设计的需求问题.html">设计的需求问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="性能优化的目标问题.html">性能优化的目标问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="加速器和其他硬件的区别.html">加速器和其他硬件的区别</a></li>
<li class="toctree-l2"><a class="reference internal" href="君子与其练达不若朴鲁与其曲谨不若疏狂.html">君子与其练达不若朴鲁与其曲谨不若疏狂</a></li>
<li class="toctree-l2"><a class="reference internal" href="有无之道——一个新的软件架构定义.html">有无之道——一个新的软件架构定义</a></li>
<li class="toctree-l2"><a class="reference internal" href="什么是管理.html">什么是管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="从香农熵谈设计文档写作.html">从香农熵谈设计文档写作</a></li>
<li class="toctree-l2"><a class="reference internal" href="YVR18资料关注点.html">YVR18资料关注点</a></li>
<li class="toctree-l2"><a class="reference internal" href="理解关联.html">理解关联</a></li>
<li class="toctree-l2"><a class="reference internal" href="如何撰写技术交底书.html">如何撰写技术交底书</a></li>
<li class="toctree-l2"><a class="reference internal" href="infiniband概念空间分析.html">infiniband概念空间分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="再谈什么是高层设计.html">再谈什么是高层设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="再谈“法自然”的设计思路.html">再谈“法自然”的设计思路</a></li>
<li class="toctree-l2"><a class="reference internal" href="设计规范.html">设计规范</a></li>
<li class="toctree-l2"><a class="reference internal" href="开源交付.html">开源交付</a></li>
<li class="toctree-l2"><a class="reference internal" href="道纪.html">道纪</a></li>
<li class="toctree-l2"><a class="reference internal" href="X86上的ARM Linux调试环境.html">X86上的ARM Linux调试环境</a></li>
<li class="toctree-l2"><a class="reference internal" href="IOMMU的现状和发展.html">IOMMU的现状和发展</a></li>
<li class="toctree-l2"><a class="reference internal" href="单元测试的强与弱问题.html">单元测试的强与弱问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="做事，做名，绩效主义，以及架构战略.html">做事，做名，绩效主义，以及架构战略</a></li>
<li class="toctree-l2"><a class="reference internal" href="没有规则的规则.html">没有规则的规则</a></li>
<li class="toctree-l2"><a class="reference internal" href="大成若缺.html">大成若缺</a></li>
<li class="toctree-l2"><a class="reference internal" href="非易失内存随想.html">非易失内存随想</a></li>
<li class="toctree-l2"><a class="reference internal" href="参考平台.html">参考平台</a></li>
<li class="toctree-l2"><a class="reference internal" href="一个例子：名的边界效应.html">一个例子：名的边界效应</a></li>
<li class="toctree-l2"><a class="reference internal" href="抽象问题的模型.html">抽象问题的模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="另一个例子：名的边界效应.html">另一个例子：名的边界效应</a></li>
<li class="toctree-l2"><a class="reference internal" href="Zircon架构简单分析1: Overview.html">Zircon架构简单分析1: Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="在qemu中模拟设备.html">在qemu中模拟设备</a></li>
<li class="toctree-l2"><a class="reference internal" href="国产操作系统问题.html">国产操作系统问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="软件飞线.html">软件飞线</a></li>
<li class="toctree-l2"><a class="reference internal" href="状态机方法.html">状态机方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="一些典型的架构设计错误.html">一些典型的架构设计错误</a></li>
<li class="toctree-l2"><a class="reference internal" href="从CPU和TPU的不同语言抽象看抽象原则.html">从CPU和TPU的不同语言抽象看抽象原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="限制管理.html">限制管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="WarpDrive as a General Heterogeneous Platform.html">WarpDrive as a General Heterogeneous Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multiarch概念调查.html">Multiarch概念调查</a></li>
<li class="toctree-l2"><a class="reference internal" href="ARM NUC.html">ARM NUC</a></li>
<li class="toctree-l2"><a class="reference internal" href="UML有没有用.html">UML有没有用</a></li>
<li class="toctree-l2"><a class="reference internal" href="推演一个Buffer分配的语法设计.html">推演一个Buffer分配的语法设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构师和项目经理的基本职责问题.html">架构师和项目经理的基本职责问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="锁使用设计.html">锁使用设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="从内核终止用户态程序的IO访问.html">从内核终止用户态程序的IO访问</a></li>
<li class="toctree-l2"><a class="reference internal" href="epoll和select.html">epoll和select</a></li>
<li class="toctree-l2"><a class="reference internal" href="状态机退出方法.html">状态机退出方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="不为天下先2.html">不为天下先2</a></li>
<li class="toctree-l2"><a class="reference internal" href="设计逻辑和代码逻辑.html">设计逻辑和代码逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="流水线深度.html">流水线深度</a></li>
<li class="toctree-l2"><a class="reference internal" href="谁是主线？.html">谁是主线？</a></li>
<li class="toctree-l2"><a class="reference internal" href="理解指令集.html">理解指令集</a></li>
<li class="toctree-l2"><a class="reference internal" href="给使用设备的进程发信号.html">给使用设备的进程发信号</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux设备异常复位逻辑分析.html">Linux设备异常复位逻辑分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="投资开源社区的基本逻辑.html">投资开源社区的基本逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="一个Linux死锁信息分析.html">一个Linux死锁信息分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="如何说谎.html">如何说谎</a></li>
<li class="toctree-l2"><a class="reference internal" href="代码生成器.html">代码生成器</a></li>
<li class="toctree-l2"><a class="reference internal" href="弟子规：美国军方禁止在C语言程序中使用malloc.html">弟子规：美国军方禁止在C语言程序中使用malloc</a></li>
<li class="toctree-l2"><a class="reference internal" href="自下而上和自上而下的设计.html">自下而上和自上而下的设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="正面竞争.html">正面竞争</a></li>
<li class="toctree-l2"><a class="reference internal" href="不知为美.html">不知为美</a></li>
<li class="toctree-l2"><a class="reference internal" href="高层封装的设计战略.html">高层封装的设计战略</a></li>
<li class="toctree-l2"><a class="reference internal" href="产业生态的原理和作用.html">产业生态的原理和作用</a></li>
<li class="toctree-l2"><a class="reference internal" href="弯道问题.html">弯道问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="无名概念的深入探讨.html">无名概念的深入探讨</a></li>
<li class="toctree-l2"><a class="reference internal" href="解释On-Chip Debug和Off-Chip Debug.html">解释On-Chip Debug和Off-Chip Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="接口和名称空间辨识.html">接口和名称空间辨识</a></li>
<li class="toctree-l2"><a class="reference internal" href="RISCV WMO和TSO具体解决什么问题.html">RISCV WMO和TSO具体解决什么问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="利益链.html">利益链</a></li>
<li class="toctree-l2"><a class="reference internal" href="从C的for和Python的for聊起.html">从C的for和Python的for聊起</a></li>
<li class="toctree-l2"><a class="reference internal" href="安全建模问题讨论.html">安全建模问题讨论</a></li>
<li class="toctree-l2"><a class="reference internal" href="Accelerator vs. Co-processor.html">Accelerator vs. Co-processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="一个逻辑空间控制的例子：uacce生命周期管理.html">一个逻辑空间控制的例子：uacce生命周期管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="软件构架设计的入题角度问题.html">软件构架设计的入题角度问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="接口分层的问题.html">接口分层的问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="对Cache Coherence的重理解.html">对Cache Coherence的重理解</a></li>
<li class="toctree-l2"><a class="reference internal" href="接口定义的工作模型.html">接口定义的工作模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux_net和net-next分支的维护策略.html">Linux net和net-next分支的维护策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="WarpDrive用户态方案重构建议.html">WarpDrive用户态方案重构建议</a></li>
<li class="toctree-l2"><a class="reference internal" href="主线逻辑.html">主线逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计的粗与细问题.html">架构设计的粗与细问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="狂人日记读后感——名称空间囚笼.html">狂人日记读后感——名称空间囚笼</a></li>
<li class="toctree-l2"><a class="reference internal" href="写程序和写小说的区别.html">写程序和写小说的区别</a></li>
<li class="toctree-l2"><a class="reference internal" href="再谈《弟子规》问题.html">再谈《弟子规》问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="理解弱内存顺序模型.html">理解弱内存顺序模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="思维上的洞2.html">思维上的洞2</a></li>
<li class="toctree-l2"><a class="reference internal" href="后软件时代和技术沙盘陷阱.html">后软件时代和技术沙盘陷阱</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎么做项目管理2.html">怎么做项目管理2</a></li>
<li class="toctree-l2"><a class="reference internal" href="语言的控制力问题.html">语言的控制力问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="分享我的Linux内核开发环境.html">分享我的Linux内核开发环境</a></li>
<li class="toctree-l2"><a class="reference internal" href="开发视图.html">开发视图</a></li>
<li class="toctree-l2"><a class="reference internal" href="概念视图.html">概念视图</a></li>
<li class="toctree-l2"><a class="reference internal" href="处理视图.html">处理视图</a></li>
<li class="toctree-l2"><a class="reference internal" href="语言控制力问题.html">语言控制力问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="新手设计文档典型错误.html">新手设计文档典型错误</a></li>
<li class="toctree-l2"><a class="reference internal" href="讨论：OpenCL2.0SVM有什么好？.html">讨论：OpenCL2.0SVM有什么好？</a></li>
<li class="toctree-l2"><a class="reference internal" href="设计逻辑的细致和严密问题.html">设计逻辑的细致和严密问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="逻辑的平面和立体问题.html">逻辑的平面和立体问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="自由和约束.html">自由和约束</a></li>
<li class="toctree-l2"><a class="reference internal" href="给非专业人士介绍架构设计工作.html">给非专业人士介绍架构设计工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="AML工作原理快速调研.html">AML工作原理快速调研</a></li>
<li class="toctree-l2"><a class="reference internal" href="qemu_PCIe总线结构.html">qemu PCIe总线结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="ARM64_Linux_Kernel_5.7无法GDB调试问题.html">ARM64 Linux Kernel 5.7无法GDB调试问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="分层抽象.html">分层抽象</a></li>
<li class="toctree-l2"><a class="reference internal" href="见素抱朴：一个关于交付的例子.html">见素抱朴：一个关于交付的例子</a></li>
<li class="toctree-l2"><a class="reference internal" href="三个锦囊.html">三个锦囊</a></li>
<li class="toctree-l2"><a class="reference internal" href="多核MMU和ASID管理逻辑.html">多核MMU和ASID管理逻辑</a></li>
<li class="toctree-l2"><a class="reference internal" href="PMA和PA方案对比.html">PMA和PA方案对比</a></li>
<li class="toctree-l2"><a class="reference internal" href="真假架构设计.html">真假架构设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="怎样写标准提案.html">怎样写标准提案</a></li>
<li class="toctree-l2"><a class="reference internal" href="安全问题的本质.html">安全问题的本质</a></li>
<li class="toctree-l2"><a class="reference internal" href="名称内涵的发展.html">名称内涵的发展</a></li>
<li class="toctree-l2"><a class="reference internal" href="标准和设计的区别.html">标准和设计的区别</a></li>
<li class="toctree-l2"><a class="reference internal" href="cond_mutex模型.html">cond/mutex模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="一个例子：架构的重要性和从权.html">一个例子：架构的重要性和从权</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvdimm_AD模式的内核应用模型.html">nvdimm AD模式的内核应用模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="早期架构设计问题.html">早期架构设计问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="所谓内部设计.html">所谓内部设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="“知不知”如何影响决策的？.html">“知不知”如何影响决策的？</a></li>
<li class="toctree-l2"><a class="reference internal" href="“优秀架构设计”.html">“优秀架构设计”</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux_Kernel架构赏析.html">Linux Kernel架构赏析</a></li>
<li class="toctree-l2"><a class="reference internal" href="说说对协程的看法.html">说说对协程的看法</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计和实施的对齐和同步问题.html">架构设计和实施的对齐和同步问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="一个关于4+1视图的案例：从概念视图开始.html">一个关于4+1视图的案例：从概念视图开始</a></li>
<li class="toctree-l2"><a class="reference internal" href="“硬件状态机”.html">“硬件状态机”</a></li>
<li class="toctree-l2"><a class="reference internal" href="设计的减熵原理.html">设计的减熵原理</a></li>
<li class="toctree-l2"><a class="reference internal" href="binfmt概念空间建模.html">binfmt概念空间建模</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计入门知识.html">架构设计入门知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="架构设计的大忌：我没错.html">架构设计的大忌：我没错</a></li>
<li class="toctree-l2"><a class="reference internal" href="“解决方案”.html">“解决方案”</a></li>
<li class="toctree-l2"><a class="reference internal" href="讨论一下eBPF.html">讨论一下eBPF</a></li>
<li class="toctree-l2"><a class="reference internal" href="交付中的Version和Revision.html">交付中的Version和Revision</a></li>
<li class="toctree-l2"><a class="reference internal" href="约束选择.html">约束选择</a></li>
<li class="toctree-l2"><a class="reference internal" href="git-submodule的理解.html">git submodule的理解</a></li>
<li class="toctree-l2"><a class="reference internal" href="思维的串行化要求.html">思维的串行化要求</a></li>
<li class="toctree-l2"><a class="reference internal" href="什么是函数式编程.html">什么是函数式编程</a></li>
<li class="toctree-l2"><a class="reference internal" href="管理上的判断和技术上的判断.html">管理上的判断和技术上的判断</a></li>
<li class="toctree-l2"><a class="reference internal" href="基于逻辑链建立约束.html">基于逻辑链建立约束</a></li>
<li class="toctree-l2"><a class="reference internal" href="高级需求分析.html">高级需求分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="False_Sharing.html">假共享内存(False Sharing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="芯片验证软件的4+1方法.html">芯片验证软件的4+1方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="软件之硬.html">软件之硬</a></li>
<li class="toctree-l2"><a class="reference internal" href="诚其意.html">诚其意</a></li>
<li class="toctree-l2"><a class="reference internal" href="把什么放入架构设计.html">把什么放入架构设计</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Linux主线内核跟踪/README.html">Linux主线内核跟踪</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">MySummary</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../README.html">Docs</a> &raquo;</li>
        
          <li><a href="README.html">软件架构设计</a> &raquo;</li>
        
      <li>怎么确定道</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/软件构架设计/怎么确定道.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>怎么确定道<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>最近给两个新来兄弟辅导设计方法，突然对慈，俭，不为天下先有了一个直观的解释，我
把它整理在这个文档中。</p>
<p>这个文档是针对开发人员写的，但基础逻辑基本上是种哲学性质的推演，我尽量在前面表
达得通用一些，把程序相关的讨论放在后面，以便对不写程序的人也有一点参考价值。</p>
<p>之前的博文已经讨论过了，道是现实发生的逻辑路径，它具有三个特性：</p>
<ol class="arabic simple">
<li>多面性，我们只能获得它其中一个侧面。球进了球门，你可以关注球在门内的事实，也
可以关注是张三踢进去的，也可以关注不是门柱弹了一下它也进不去，也可以关注球是
第三运动器材厂的产品。所以，没有“关注点（妙）”，无所谓道。至少不是可以谈的道</li>
<li>部分道已经发生，不可改变。（已道）</li>
<li>部分道还未发生，这是我们关心道的核心，我们希望确定这个道，顺着这个道走，我们
就可以达成目标。（未道）</li>
</ol>
<p>本文要讨论的问题就是确定这里第三点的策略是什么，说明为什么“慈”，“俭”，“不为天下
先”这三点是确定“道”的重要原则。</p>
<p>我们现在有一个位置，我们心中有一个目标，这是两个点，如果我们用一个平面坐标轴来
做比喻，它是这样的：</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/确定道1.png" src="../_images/确定道1.png" />
</div>
</div></blockquote>
<p>如果我们不考虑任何障碍，最好的路径是在这两个点之间连一条直线，这就是最优的“道”
，它包含的概念最少，描述这个“道”，只需要起点和终点的坐标：</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/确定道2.jpg" src="../_images/确定道2.jpg" />
</div>
</div></blockquote>
<p>这里只有两个名。如果用现实来类比，好比我要从小吃店里去巷尾上公共厕所，店员告诉
我“道”怎么走：</p>
<blockquote>
<div><div class="line-block">
<div class="line">你从这里顺着巷子往前走，一直走到头，看见门口挂着“公共厕所”牌子的就是了</div>
</div>
</div></blockquote>
<p>中间经过一间杂货店和一个半人马雕像这种事，不在你，也不在他的关注点中，这都是“无
”（视之不见，名曰夷；听之不闻，名曰希；搏之不得，名曰微。）。</p>
<p>这两个东西，在整个表述，或者你的思考中，都看不见。你急着上厕所，什么杂货铺打折
，半人马巧夺天工这种事，都和你无关，这就是叫五色令人目盲，五音令人耳聋。我们聚
焦在一个妙(interesting)上，就不会关心其他角度了。</p>
<p>什么时候你会关心它们呢？——你遇到障碍的时候。</p>
<p>巷子中间施工，挖了一个大坑。你要绕过它：</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/确定道3.jpg" src="../_images/确定道3.jpg" />
</div>
</div></blockquote>
<p>你道（未道）可能就变成这样了：</p>
<blockquote>
<div><div class="line-block">
<div class="line">从这里顺着巷子往前走，遇到一个杂货铺的时候，进去，</div>
<div class="line">从后门出来，左拐，继续走，遇到一个半人马雕像的时候，</div>
<div class="line">左拐，一直走到头，看见门口挂着“公共厕所”牌子的就是了</div>
</div>
</div></blockquote>
<p>这里你就引入了两个新的“名”。我们优化“未道”这个逻辑链，第一个基本原则：不增加不
影响“道”方向的名。这就叫不为天下先。在道德经中，这个原则是针对领导者来说的，所
以，有一个额外的含义：不要引入额外的需求。但还是那句话，我们现在聚焦”设计“这个
主题，其他东西到我们需要的时候再去推广。</p>
<p>好了，基本原则我们有了，现在核心的问题是，在我们没有走过去的时候，我们怎么知道
那里有没有障碍。这就是”知不知“这个问题的策略了：我们需要去调查，确定哪里有障碍
。但调查本身呢，也是一种投入，直接去做也是投入，调查也是投入，如何平衡两者的关
系？最好当然是“做本身就是一种调查”，调查完了，该做的也已经做了。但很多时候我们
做不到，所以，我们尽量聚焦到和“道”转弯有关的核心问题上。也就是说，在我现在要走
的那条路最相关的信息，是我优先调查的位置，调查到什么程度，是架构师，领导者的本
身对问题的认识问题。但至少，在基础方法逻辑上，我们得聚焦在“道”上。所以，我们的
基础方法是：把所有的“知”先标记出来，把“不知”也标记出来：</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/确定道4.jpg" src="../_images/确定道4.jpg" />
</div>
<p>其中红色的是知其可行，透明度表示它的置信度，黑色表示知其不可行，白色表
示未知</p>
</div></blockquote>
<p>有一副这样的图，我们要判断下一步是调查还是执行，就是一件很自然的事情了。这样我
们很容易理解什么叫“慈”和“俭”了。不硬冲就是慈；不绕路，就是俭：</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/确定道5.jpg" src="../_images/确定道5.jpg" />
</div>
</div></blockquote>
<p>所以，慈故能勇，能避开的都已经避开了，剩下的就没有什么可以纠结的，硬冲就是了。
围城必缺；抗兵相加，哀者胜之。没得选的，总是比有得选的更勇。</p>
<p>绝学无忧，对于求道者（求目标达成者），没空跟你讨论和道无关的逻辑。所有的逻辑都
是聚焦到“选择”上面的，没得选择的时候就是“事善能”，那个时候拼的是“勇”，更不跟你
谈逻辑。所以我们不求头头是道，我们求“最优选择”。</p>
<p>好了，哲学说完，我们谈谈怎么做设计的问题了。设计是代码的“道”，最终的代码是我们
的目标，但如果我们前期不对我们实现整个代码的“道”有一个正确的认识，我们选择的可
能就不是最优路径，只会碰得头破血流。比如你选择一个不支持多线程的库来作为你的编
码器，然后就开始基于这个库创建会话，分配内存，进入这样的细节，你的资源消耗大半
的时候，你发现性能不够，就好像走了遥远的路了，目标在一座万丈高山的后面，近在咫
尺，你也只能看着了。</p>
<p>所以，对于设计，我第一反对的是你没有设计，没有设计就表示我必须把一切都寄望在最
后。特别是那种三个月，半年才交货的代码，没有设计我都害怕得要命，要知道，做这种
判断，可不是在你交货的时候开始的，而是在你应用的时候才发生的。比如你做一个SAS控
制器，某些新插盘进来的时候需要重新扫描整个阵列，结果libsas根本不支持，你想改，
但libsas现在连维护者都没有了，什么都改不进去，你自己的驱动从一开始就没打算弄……
这种问题，验收都发现不了，都是到了用户的场合才知道的，你前期不推演，到应用的时
候你跟我说改，改条毛噢。（严格来说，这个没有需求支撑推演也不一定推演得出来，但
就这个问题来说，因为是个状态机问题，进行逻辑推演是可以捕获的）</p>
<p>所以，设计没有你想的那么复杂，你有5个需求，每个需求大概怎么做？你打算放几个.c，
几个.py，里面还有几个.go？他们怎么发生关联，从而那个功能可以被实现？你有多少个
版本要合？这些版本编译成多少个二进制？这些二进制部署在Docker/LCX中，VM中，还是
Host Kernel中？这些都是说说而已（不是代码，也没有用代码校验过），但我们都有经验
，知道这样弄，成功的可能性有多大，这就是很简单的事情。但你不想用这个心，在过程
中怕批评，怕接受别人的意见，不断把你的描述说的头头是道，无懈可击（所以很多人才
会到代码写完才肯交设计），你最后就到不了你想达到的那个道。这种心态，弄来弄去，
最终一辈子都活在“解释”中，永远都体会不了“成功”的快感。</p>
<p>始终有一张图景，我们就不断有办法判断我们下一步是“写一部分程序”，还是“做一个代码
验证”，还是“调查一下某个未知的情形”。这我们就会离成功近很多。而不是，上来就开始
写代码，遇到障碍就来给理由，文档写得技巧十足，道理满满，无懈可击，遇到质疑就解
释，背后抱一个“没有功劳也有苦劳”的心理支撑。对于这种，我老实说，我的策略是“不代
司杀者杀”，我该帮已经帮了，你自己要掉下去，这我可帮不了。</p>
<p>没有这种图景，我们想慈也慈不了，想俭也俭不了。但另一方面，我们建这个图景，是为
了能改变路径，避开不知和障碍。但其出弥远，其知弥少。我们不是为建这个图景而建这
个图景的。所以很多设计文档，缺乏对这个图景的聚焦，那也是没有用的。比如，很多人
会拷贝完整的代码作为设计文档，把写验证代码做的数据结构，原封不动地拷贝上来，显
得专业，复杂，但这种复杂度，对你提前发现设计逻辑中的问题毫无帮助。我问你“为什么
要在设计中强调device_group有一个lock和一个rb_tree”呢？你告诉我“因为访问
device_group需要上锁才能访问啊，device是个稀疏阵啊。”，我靠，这句话真有道理，我
简直无言以对。你说的都是对的，但和我们正在讨论的大的设计，分多少个模块，主要功
能是否可以实现，关联度有多高呢？</p>
<p>所以，设计这种东西，不同层面有不同的取舍，取决于我们最后要做的决策是什么，架构
也可以有非常细致的设计的。我的博客里经常有人问我为什么文字有相当多的定语重句，
老天，我这也叫多，你们要知道我每天对着，或者自己写着，是什么样的鬼话。我拉这个
典型的给你看看：</p>
<blockquote>
<div><div class="line-block">
<div class="line">A read or write operation is single-copy atomic only if it</div>
<div class="line">meets the following conditions:</div>
<div class="line"><br /></div>
<div class="line">1. For a single-copy atomic store, if the store overlaps</div>
<div class="line">another single-copy atomic store, then all of the writes</div>
<div class="line">from one of the stores are inserted into the Coherence</div>
<div class="line">order of each overlapping byte before any of the writes</div>
<div class="line">of the other store are inserted into the Coherence orders</div>
<div class="line">of the overlapping bytes.</div>
<div class="line"><br /></div>
<div class="line">2. If a single-copy atomic load overlaps a single-copy</div>
<div class="line">atomic store and for any of the overlapping bytes the</div>
<div class="line">load returns the data written by the write inserted</div>
<div class="line">into the Coherence order of that byte by the single-copy</div>
<div class="line">atomic store then the load must return data from a point</div>
<div class="line">in the Coherence order no earlier than the writes inserted</div>
<div class="line">into the Coherence order by the single-copy atomic store</div>
<div class="line">of all of the overlapping bytes.</div>
</div>
</div></blockquote>
<p>这段描述来自ARMv8的构架定义。你看，构架也可以有构架的“细节”的，但每个这样的细节
，都是支持构架这一级的逻辑链的。你看看人家这个构架文档怎么说的：</p>
<blockquote>
<div><div class="line-block">
<div class="line">The ARM architecture described in this Architecture</div>
<div class="line">Reference Manual defines the behavior of an abstract</div>
<div class="line">machine,referred to as a processing element, often</div>
<div class="line">abbreviated to PE. Implementations compliant with</div>
<div class="line">the ARM architecturemust conform to the described</div>
<div class="line">behavior of the processing element. It is not intended</div>
<div class="line">to describe how to build animplementation of the PE,</div>
<div class="line">nor to limit the scope of such implementations beyond</div>
<div class="line">the defined behaviors.</div>
</div>
</div></blockquote>
<p>注意最后那个强调，它是精准来源于缩小范围，聚焦要解决的范围的，而不是什么都有的
。</p>
<p>我的设计大部分都不能公开，这里有一个难得是公开的，可以作为参考：</p>
<blockquote>
<div>in nek：Progress and confusion of the IOMMU name space</div></blockquote>
<p>我这里喋喋不休地描述iommu_group的原始定位，vfio_group的设计意图，竭尽所能要描述
出现各个势力在这个问题上的预期图景。这些观点，我不认为他们对，也不认为他们错，
但我需要把它们摆出来，都是为了形成前面说的这个图景。只有有了这样的图形，只有我
对他们有正确的认识了，我才能避开所有的障碍点，找到一个满足我的要求，最容易切进
去的点。</p>
<p>在我写本文的时候，那个文档已经是第5个版本了，每个版本都是有一个设计者提出不同意
见后进行根本上的修改然后才重新整理出来的。</p>
<p>写这种东西，说到底就是聚焦（决策逻辑链），确切（无二义性），反而正确性是放在第
二位的，因为本来我就是无法彻底正确所以才写出来取得共识，你要面子，避开这种有可
能的错误，不如不写。另一方面，你们看看那个描述的逻辑的复杂度，我能把脑子控制住
所有的要点就不错了，我还有空关心你的情商，文笔之类的东西？我首先要保证的是我的“
正确认识”，然后才是别人的正确理解，最后才是什么情商，文笔这些字节。加花是主干稳
了以后的事，主干都没有稳就讨论什么“这样描述更好”，“这个概念不是这样定义的”之类
的，基本上都是腐儒之见，你们不过是在讨论自己的面子和名声，根本就没有关心那件事
本身啊。</p>
<p>要满足我的特性，最终我肯定是要修改别人的模块的，比如现在那个上面的决策是要修改
type1驱动对mdev的特殊处理的。但所有的路径都考虑过了，能躲开的都躲开了，那就是个
所有力量聚焦要突破的地方，那有什么好想的？我们就不会再犹豫了，就是一个冲字。这
就是慈所以能勇。</p>
<p>其实说来说去，这些东西可能很多工程师不是不知道，可能还是有“怕露怯”的心态。而且
这种心态是根植在骨子里的，如果不主动去露怯，把心思全部放在求道上，根本自己都不
知道（自己在求名），可能永远都走不出来。</p>
<p>怕漏怯的另一面就是装逼成狂，明明已经弄清楚的判断，非要向外拉逻辑：关于这个
iommu_group你们不知道吧？这个可是当初我和某某某谈笑风生决定的……这里面还有一个故
事……要不就是知乎式的“这种大路货的知识也敢拿出来显，你懂XXX，YYYY，ZZZZZ吗？”</p>
<p>天之道，高者抑之，下者举之。要准，不是要“牛”，名字露出来就已经“不牛”了。</p>
<p>最终的结果始终就是我给你谈道，你来给我谈情商，谈面子，谈站在我这一边。对这种，
我还是这句话，我无能为力，我不代司杀者杀。但你如果认为“常”没有“司杀者杀”，我没
有什么可说的。</p>
<p>（对了，我的表述和任何真实事件无关，就是想讨论一个逻辑，所有的情绪表达，不过是
为了行文生动。还是那句话，如果你不关心这个道，而关心扯是扯非，我是帮不了你的）</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="回调还是直调.html" class="btn btn-neutral float-right" title="回调还是直调" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="科普一下GPL和开源软件.html" class="btn btn-neutral float-left" title="科普一下GPL和开源软件" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Kenneth Lee

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>